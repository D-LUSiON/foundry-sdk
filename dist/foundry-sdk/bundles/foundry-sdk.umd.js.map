{"version":3,"file":"foundry-sdk.umd.js","sources":["ng://foundry-sdk/lib/tools/resizer-events.service.ts","ng://foundry-sdk/lib/components/workspace-zone/workspace-zone.component.ts","ng://foundry-sdk/lib/components/workspace-wrapper/workspace-wrapper.component.ts","ng://foundry-sdk/lib/foundry-sdk.module.ts","ng://foundry-sdk/lib/models/navigation-element.ts"],"sourcesContent":["import { Injectable, EventEmitter } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ResizerEventsService {\n\n    emitter: EventEmitter<{\n        zone: string,\n        resize: 'h' | 'v',\n        handle: 'top' | 'right' | 'bottom' | 'left',\n        handle_width: number,\n        event: MouseEvent,\n        element_position: DOMRect,\n        resizer_width: number,\n    }> = new EventEmitter();\n\n    constructor() { }\n}\n","import {\n    Component,\n    OnInit,\n    ElementRef,\n    Renderer2,\n    Input,\n    HostBinding,\n    AfterViewInit,\n    HostListener,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { ResizerEventsService } from '../../tools/resizer-events.service';\n\n@Component({\n  selector: 'fnd-workspace-zone',\n  template: '<ng-content></ng-content>',\n  styleUrls: ['./workspace-zone.component.scss']\n})\nexport class WorkspaceZoneComponent implements OnInit, OnChanges, AfterViewInit {\n\n    @Input() role: string;\n    @Input() border: string;\n    @Input() resize_zone: string;\n    @Input() theme: string = '';\n    @Input() overflow_x: 'visible' | 'auto' | 'none' | 'scroll' | 'initial' | 'clip' | 'overlay' = 'clip';\n    @Input() overflow_y: 'visible' | 'auto' | 'none' | 'scroll' | 'initial' | 'clip' | 'overlay' = 'clip';\n    @Input() min_height: string = '0';\n    @Input() max_height: string = 'auto';\n    @Input() direction: 'row' | 'column' = 'column';\n    @Input() resizers: Array<'top' | 'right' | 'bottom' | 'left'> = [];\n    @Input() resizer_width: number = 6;\n\n    @HostBinding('style.min-height') host_min_height = this.min_height;\n    @HostBinding('style.max-height') host_max_height = this.max_height;\n    @HostBinding('style.overflow-x') host_overfow_x = this.overflow_x;\n    @HostBinding('style.overflow-y') host_overfow_y = this.overflow_y;\n    @HostBinding('style.flex-direction') host_flex_direction = this.direction;\n    @HostBinding('attr.colorTheme') host_color_theme = this.theme;\n\n\n    private _resizer_element: HTMLDivElement;\n\n    all_resizers: { [key: string]: HTMLDivElement } = {};\n\n    @HostListener('mouseenter', ['$event']) onMouseEnter(e: MouseEvent) {\n        Object.keys(this.all_resizers).forEach(resizer => {\n            this._renderer.removeClass(this.all_resizers[resizer], 'resizer-handle-hidden');\n            this._renderer.addClass(this.all_resizers[resizer], 'resizer-handle-visible');\n        });\n    }\n\n    @HostListener('mouseleave', ['$event']) onMouseLeave(e: MouseEvent) {\n        if (!e.relatedTarget || (e.relatedTarget as HTMLDivElement).getAttribute('zone') !== this.role) {\n            Object.keys(this.all_resizers).forEach(resizer => {\n                this._renderer.removeClass(this.all_resizers[resizer], 'resizer-handle-visible');\n                this._renderer.addClass(this.all_resizers[resizer], 'resizer-handle-hidden');\n            });\n        }\n    }\n\n    constructor(\n        private _el: ElementRef,\n        private _renderer: Renderer2,\n        private _resizeService: ResizerEventsService,\n    ) {\n        this._resizeService.emitter.subscribe((e: { zone: string, event: MouseEvent }) => {\n            if (e.zone !== this.role) {\n                this.resizers.forEach(resizer => {\n                    this._updateResizerPosition(this.all_resizers[resizer]);\n                });\n            }\n        });\n    }\n\n    ngOnInit() {\n        this._renderer.setStyle(this._el.nativeElement, 'grid-area', this.role);\n        if (this.border) {\n            this._renderer.setStyle(this._el.nativeElement, `border-${this.border}-width`, '1px');\n        }\n\n        this.resizers.forEach(resizer => {\n            if (!this.all_resizers[resizer]) {\n                const resizer_el: HTMLDivElement = this._renderer.createElement('div');\n                this._renderer.setAttribute(resizer_el, 'zone', this.role);\n                this._renderer.setAttribute(resizer_el, 'role', resizer);\n                this._renderer.addClass(resizer_el, 'resizer-handle');\n                this._renderer.addClass(resizer_el, 'resizer-handle-hidden');\n\n                switch (resizer) {\n                    case 'top':\n                    case 'bottom':\n                        this._renderer.setStyle(resizer_el, 'cursor', 'n-resize');\n                        break;\n                    case 'right':\n                    case 'left':\n                        this._renderer.setStyle(resizer_el, 'cursor', 'e-resize');\n                        break;\n                    default:\n                        break;\n                }\n\n                this._updateResizerPosition(resizer_el);\n\n                this._addMouseDragListeners(resizer_el, resizer);\n                this._renderer.appendChild(document.querySelector('body'), resizer_el);\n                this.all_resizers[resizer] = resizer_el;\n            } else {\n                console.error(`You've defined more than one \"${resizer}\" resizers!`);\n            }\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.host_color_theme = this.theme;\n        this.host_min_height = this.min_height;\n        this.host_max_height = this.max_height;\n        this.host_overfow_x = this.overflow_x;\n        this.host_overfow_y = this.overflow_y;\n        this.host_flex_direction = this.direction;\n    }\n\n    ngAfterViewInit(): void {\n        this.host_color_theme = this.theme;\n        this.host_min_height = this.min_height;\n        this.host_max_height = this.max_height;\n        this.host_overfow_x = this.overflow_x;\n        this.host_overfow_y = this.overflow_y;\n        this.host_flex_direction = this.direction;\n    }\n\n    private _updateResizerPosition(resizer_el: HTMLDivElement): void {\n        const position_info: DOMRect = this._el.nativeElement.getBoundingClientRect();\n        const resizer = resizer_el.getAttribute('role');\n\n        switch (resizer) {\n            case 'top':\n                this._renderer.setStyle(resizer_el, 'width', `${position_info.width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.y - (this.resizer_width / 2)}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.x}px`);\n                break;\n            case 'right':\n                this._renderer.setStyle(resizer_el, 'width', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${position_info.height}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.top}px`);\n                this._renderer.setStyle(\n                    resizer_el,\n                    'left',\n                    `${position_info.width + position_info.left - this.resizer_width + (this.resizer_width / 2)}px`\n                );\n                break;\n            case 'bottom':\n                // TODO: Fix resizer\n                this._renderer.setStyle(resizer_el, 'width', `${position_info.width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.bottom - this.resizer_width + (this.resizer_width / 2)}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.x}px`);\n                break;\n            case 'left':\n                this._renderer.setStyle(resizer_el, 'width', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${position_info.height}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.top}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.left - (this.resizer_width / 2)}px`);\n                break;\n            default:\n                break;\n        }\n    }\n\n    private _addMouseDragListeners(resizer_el: HTMLDivElement, resize: 'top' | 'right' | 'bottom' | 'left'): void {\n        this._renderer.listen(resizer_el, 'mouseenter', (e: MouseEvent) => {\n            this._renderer.removeClass(resizer_el, 'resizer-handle-hidden');\n            this._renderer.addClass(resizer_el, 'resizer-handle-visible');\n        });\n\n        this._renderer.listen(resizer_el, 'mouseleave', (e: MouseEvent) => {\n            if (!e.relatedTarget || (e.relatedTarget as HTMLElement).getAttribute('role') !== this.role) {\n                this._renderer.removeClass(resizer_el, 'resizer-handle-visible');\n                this._renderer.addClass(resizer_el, 'resizer-handle-hidden');\n            }\n        });\n\n        this._renderer.listen(resizer_el, 'mousedown', (e: MouseEvent) => {\n            this._renderer.setStyle(document.querySelector('body'), 'user-select', 'none');\n            const win_mousemove_fn = this._renderer.listen(window, 'mousemove', (event: MouseEvent) => {\n                if (['top', 'bottom'].includes(resize)) {\n                    this._renderer.setStyle(resizer_el, 'top', `${event.pageY}px`);\n                } else {\n                    this._renderer.setStyle(resizer_el, 'left', `${event.pageX}px`);\n                }\n                this._resizeService.emitter.emit({\n                    zone: this.role,\n                    resize: ['top', 'bottom'].includes(resize) ? 'v' : 'h',\n                    handle: resize,\n                    handle_width: this.resizer_width,\n                    event,\n                    element_position: this._el.nativeElement.getBoundingClientRect(),\n                    resizer_width: this.resizer_width,\n                });\n            });\n            const win_dragstart_fn = this._renderer.listen(window, 'dragstart', (event: MouseEvent) => {\n                event.preventDefault();\n                event.stopPropagation();\n                return false;\n            });\n            const win_mouseup_fn = this._renderer.listen(window, 'mouseup', (event: MouseEvent) => {\n                this._renderer.setStyle(document.querySelector('body'), 'user-select', 'unset');\n                win_mousemove_fn();\n                win_dragstart_fn();\n                win_mouseup_fn();\n            });\n        });\n    }\n\n}\n","import { Component, OnInit, Input, ElementRef, Renderer2, HostBinding, OnChanges, SimpleChanges } from '@angular/core';\nimport { ResizerEventsService } from '../../tools/resizer-events.service';\n\n@Component({\n    selector: 'fnd-workspace-wrapper',\n    template: '<ng-content></ng-content>',\n    styleUrls: ['./workspace-wrapper.component.scss']\n})\nexport class WorkspaceWrapperComponent implements OnInit, OnChanges {\n\n    @Input() rows: Array<string> = [];\n    @Input() columns: Array<string> = [];\n    @Input() areas: Array<Array<string>> = [];\n    @Input() padding: string = '';\n    @Input() theme: string = 'light';\n    @Input() restore_state: boolean = true;\n\n    private _rows_initial: Array<string> = [];\n    private _cols_initial: Array<string> = [];\n\n    @HostBinding('class') host_theme_class = `workspace-theme-${this.theme}`;\n\n    constructor(\n        private _el: ElementRef,\n        private _renderer: Renderer2,\n        private _resizeService: ResizerEventsService,\n    ) {\n        this._resizeService.emitter.subscribe((e: {\n            zone: string,\n            resize: 'h' | 'v',\n            handle: 'top' | 'right' | 'bottom' | 'left',\n            handle_width: number,\n            event: MouseEvent,\n            element_position: DOMRect,\n        }) => {\n            if (e.resize === 'h') {\n                let idx = -1;\n                this.areas.forEach(area_row => {\n                    if (idx === -1) {\n                        idx = area_row.findIndex(area => area === e.zone);\n                    }\n                });\n                if (e.handle === 'right') {\n                    this.columns[idx] = `${e.event.pageX - e.element_position.left + e.handle_width}px`;\n                } else if (e.handle === 'left') {\n                    this.columns[idx] = `${window.outerWidth - e.event.pageX}px`;\n                }\n                this._setAreasStyle();\n            } else if (e.resize === 'v') {\n                let idx = -1;\n                this.areas.forEach((area_row, i) => {\n                    if (area_row.includes(e.zone)) {\n                        idx = i;\n                    }\n                });\n\n                if (e.handle === 'top') {\n                    this.rows[idx] = `${e.element_position.bottom - e.event.pageY}px`;\n                } else if (e.handle === 'bottom') {\n                    this.rows[idx] = `${e.event.pageY + e.handle_width}px`;\n                }\n                this._setAreasStyle();\n            }\n        });\n    }\n\n    ngOnInit() {\n        if (this.restore_state) {\n            this._rows_initial = this.rows;\n            this._cols_initial = this.columns;\n            if (localStorage.getItem('wrapper:rows')) {\n                this.rows = JSON.parse(localStorage.getItem('wrapper:rows'));\n            }\n            if (localStorage.getItem('wrapper:columns')) {\n                this.columns = JSON.parse(localStorage.getItem('wrapper:columns'));\n            }\n        }\n        this._setAreasStyle();\n        this._renderer.addClass(document.querySelector('body'), `workspace-theme-${this.theme}`);\n        this._renderer.setAttribute(document.querySelector('body'), 'colorTheme', this.theme);\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.host_theme_class = `workspace-theme-${this.theme}`;\n        this._renderer.addClass(document.querySelector('body'), `workspace-theme-${this.theme}`);\n        this._renderer.setAttribute(document.querySelector('body'), 'colorTheme', this.theme);\n        if (this.restore_state) {\n            this._rows_initial = this.rows;\n            this._cols_initial = this.columns;\n            if (localStorage.getItem('wrapper:rows')) {\n                this.rows = JSON.parse(localStorage.getItem('wrapper:rows'));\n            }\n            if (localStorage.getItem('wrapper:columns')) {\n                this.columns = JSON.parse(localStorage.getItem('wrapper:columns'));\n            }\n        }\n        this._setAreasStyle();\n    }\n\n    private _setAreasStyle() {\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-rows', this.rows.join(' '));\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-columns', this.columns.join(' '));\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-areas', this.areas.map(x => `\"${x.join(' ')}\"`).join(' '));\n\n        if (this.restore_state) {\n            localStorage.setItem('wrapper:rows', JSON.stringify(this.rows));\n            localStorage.setItem('wrapper:columns', JSON.stringify(this.columns));\n        }\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { WorkspaceZoneComponent } from './components/workspace-zone/workspace-zone.component';\nimport { WorkspaceWrapperComponent } from './components/workspace-wrapper/workspace-wrapper.component';\n\n\n@NgModule({\n    declarations: [\n        WorkspaceZoneComponent,\n        WorkspaceWrapperComponent,\n    ],\n    imports: [\n    ],\n    exports: [\n        WorkspaceZoneComponent,\n        WorkspaceWrapperComponent,\n    ]\n})\nexport class FoundrySdkModule { }\n","export class NavigationElement {\n    title?: string;\n    icon?: string;\n    action?: any;\n    role?: 'divider';\n    children?: NavigationElement[];\n\n    constructor(data?) {\n        if (data) {\n            if (data.hasOwnProperty('title')) { this.title = data.title; }\n            if (data.hasOwnProperty('icon')) { this.icon = data.icon; }\n            if (data.hasOwnProperty('action')) { this.action = data.action; }\n            if (data.hasOwnProperty('role')) { this.role = data.role; }\n            if (data.hasOwnProperty('children')) { this.children = data.children.map(x => new NavigationElement(x)); }\n        }\n    }\n}\n"],"names":["EventEmitter","Injectable","Component","ElementRef","Renderer2","Input","HostBinding","HostListener","NgModule"],"mappings":"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"}