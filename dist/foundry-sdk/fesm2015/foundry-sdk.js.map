{"version":3,"file":"foundry-sdk.js","sources":["ng://foundry-sdk/lib/tools/resizer-events.service.ts","ng://foundry-sdk/lib/components/workspace-zone/workspace-zone.component.ts","ng://foundry-sdk/lib/components/workspace-wrapper/workspace-wrapper.component.ts","ng://foundry-sdk/lib/foundry-sdk.module.ts","ng://foundry-sdk/lib/models/navigation-element.ts"],"sourcesContent":["import { Injectable, EventEmitter } from '@angular/core';\n\nexport interface ResizeEvent {\n    zone: string;\n    resize: 'h' | 'v';\n    handle: 'top' | 'right' | 'bottom' | 'left';\n    handle_width: number;\n    event: MouseEvent;\n    element_position: DOMRect | ClientRect;\n    resizer_position: DOMRect | ClientRect;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ResizerEventsService {\n\n    emitter: EventEmitter<ResizeEvent> = new EventEmitter();\n\n    constructor() { }\n}\n","import {\n    Component,\n    OnInit,\n    ElementRef,\n    Renderer2,\n    Input,\n    HostBinding,\n    AfterViewInit,\n    HostListener,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { ResizerEventsService, ResizeEvent } from '../../tools/resizer-events.service';\n\n@Component({\n    selector: 'fnd-workspace-zone',\n    template: '<ng-content></ng-content>',\n    styleUrls: ['./workspace-zone.component.scss']\n})\nexport class WorkspaceZoneComponent implements OnInit, OnChanges, AfterViewInit {\n\n    @Input() role: string;\n    @Input() border: string;\n    @Input() resize_zone: string;\n    @Input() theme: string = '';\n    @Input() overflow_x: 'visible' | 'auto' | 'none' | 'scroll' | 'initial' | 'clip' | 'overlay' = 'clip';\n    @Input() overflow_y: 'visible' | 'auto' | 'none' | 'scroll' | 'initial' | 'clip' | 'overlay' = 'clip';\n    @Input() min_height: string = '0';\n    @Input() max_height: string = 'auto';\n    @Input() direction: 'row' | 'column' = 'column';\n    @Input() resizers: Array<'top' | 'right' | 'bottom' | 'left'> = [];\n    @Input() resizer_width: number = 6;\n\n    @HostBinding('style.min-height') host_min_height = this.min_height;\n    @HostBinding('style.max-height') host_max_height = this.max_height;\n    @HostBinding('style.overflow-x') host_overfow_x = this.overflow_x;\n    @HostBinding('style.overflow-y') host_overfow_y = this.overflow_y;\n    @HostBinding('style.flex-direction') host_flex_direction = this.direction;\n    @HostBinding('attr.colorTheme') host_color_theme = this.theme;\n\n\n    private _resizer_element: HTMLDivElement;\n\n    all_resizers: { [key: string]: HTMLDivElement } = {};\n\n    @HostListener('mouseenter', ['$event']) onMouseEnter(e: MouseEvent) {\n        Object.keys(this.all_resizers).forEach(resizer => {\n            this._renderer.removeClass(this.all_resizers[resizer], 'resizer-handle-hidden');\n            this._renderer.addClass(this.all_resizers[resizer], 'resizer-handle-visible');\n        });\n    }\n\n    @HostListener('mouseleave', ['$event']) onMouseLeave(e: MouseEvent) {\n        if (!e.relatedTarget || (e.relatedTarget as HTMLDivElement).getAttribute('zone') !== this.role) {\n            Object.keys(this.all_resizers).forEach(resizer => {\n                this._renderer.removeClass(this.all_resizers[resizer], 'resizer-handle-visible');\n                this._renderer.addClass(this.all_resizers[resizer], 'resizer-handle-hidden');\n            });\n        }\n    }\n\n    @HostListener('window:resize', ['$event']) onResize(event) {\n        setTimeout(() => {\n            this.resizers.forEach(resizer => {\n                this._updateResizerPosition(this.all_resizers[resizer]);\n            });\n        }, 200);\n    }\n\n    constructor(\n        private _el: ElementRef,\n        private _renderer: Renderer2,\n        private _resizeService: ResizerEventsService,\n    ) {\n        this._resizeService.emitter.subscribe((e: { zone: string, event: MouseEvent }) => {\n            if (e.zone !== this.role) {\n                this.resizers.forEach(resizer => {\n                    this._updateResizerPosition(this.all_resizers[resizer]);\n                });\n            }\n        });\n    }\n\n    ngOnInit() {\n        this._renderer.setStyle(this._el.nativeElement, 'grid-area', this.role);\n        if (this.border) {\n            this._renderer.setStyle(this._el.nativeElement, `border-${this.border}-width`, '1px');\n        }\n\n        this.resizers.forEach(resizer => {\n            if (!this.all_resizers[resizer]) {\n                const resizer_el: HTMLDivElement = this._renderer.createElement('div');\n                this._renderer.setAttribute(resizer_el, 'zone', this.role);\n                this._renderer.setAttribute(resizer_el, 'role', resizer);\n                this._renderer.addClass(resizer_el, 'resizer-handle');\n                this._renderer.addClass(resizer_el, 'resizer-handle-hidden');\n\n                switch (resizer) {\n                    case 'top':\n                    case 'bottom':\n                        this._renderer.setStyle(resizer_el, 'cursor', 'n-resize');\n                        break;\n                    case 'right':\n                    case 'left':\n                        this._renderer.setStyle(resizer_el, 'cursor', 'e-resize');\n                        break;\n                    default:\n                        break;\n                }\n\n                this._updateResizerPosition(resizer_el);\n\n                this._addMouseDragListeners(resizer_el, resizer);\n                this._renderer.appendChild(document.querySelector('body'), resizer_el);\n                this.all_resizers[resizer] = resizer_el;\n            } else {\n                console.error(`You've defined more than one \"${resizer}\" resizers!`);\n            }\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.host_color_theme = this.theme;\n        this.host_min_height = this.min_height;\n        this.host_max_height = this.max_height;\n        this.host_overfow_x = this.overflow_x;\n        this.host_overfow_y = this.overflow_y;\n        this.host_flex_direction = this.direction;\n    }\n\n    ngAfterViewInit(): void {\n        this.host_color_theme = this.theme;\n        this.host_min_height = this.min_height;\n        this.host_max_height = this.max_height;\n        this.host_overfow_x = this.overflow_x;\n        this.host_overfow_y = this.overflow_y;\n        this.host_flex_direction = this.direction;\n    }\n\n    private _updateResizerPosition(resizer_el: HTMLDivElement): void {\n        const position_info: DOMRect = this._el.nativeElement.getBoundingClientRect();\n        const resizer = resizer_el.getAttribute('role');\n\n        this._renderer.setStyle(resizer_el, 'overflow', `hidden`);\n        setTimeout(() => {\n            this._renderer.setStyle(resizer_el, 'overflow', `auto`);\n        }, 3);\n        switch (resizer) {\n            case 'top':\n                this._renderer.setStyle(resizer_el, 'width', `${position_info.width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.y - (this.resizer_width / 2)}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.x}px`);\n                break;\n            case 'right':\n                this._renderer.setStyle(resizer_el, 'width', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${position_info.height}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.top}px`);\n                this._renderer.setStyle(\n                    resizer_el,\n                    'left',\n                    `${position_info.width + position_info.left - this.resizer_width + (this.resizer_width / 2)}px`\n                );\n                break;\n            case 'bottom':\n                this._renderer.setStyle(resizer_el, 'width', `${position_info.width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.bottom - this.resizer_width + (this.resizer_width / 2)}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.x}px`);\n                break;\n            case 'left':\n                this._renderer.setStyle(resizer_el, 'width', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${position_info.height}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.top}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.left - (this.resizer_width / 2)}px`);\n                break;\n            default:\n                break;\n        }\n    }\n\n    private _addMouseDragListeners(resizer_el: HTMLDivElement, resize: 'top' | 'right' | 'bottom' | 'left'): void {\n        this._renderer.listen(resizer_el, 'mouseenter', (e: MouseEvent) => {\n            this._renderer.removeClass(resizer_el, 'resizer-handle-hidden');\n            this._renderer.addClass(resizer_el, 'resizer-handle-visible');\n        });\n\n        this._renderer.listen(resizer_el, 'mouseleave', (e: MouseEvent) => {\n            if (!e.relatedTarget || (e.relatedTarget as HTMLElement).getAttribute('role') !== this.role) {\n                this._renderer.removeClass(resizer_el, 'resizer-handle-visible');\n                this._renderer.addClass(resizer_el, 'resizer-handle-hidden');\n            }\n        });\n\n        this._renderer.listen(resizer_el, 'mousedown', (e: MouseEvent) => {\n            this._renderer.setStyle(document.querySelector('body'), 'user-select', 'none');\n            const win_mousemove_fn = this._renderer.listen(window, 'mousemove', (event: MouseEvent) => {\n                switch (resize) {\n                    case 'top':\n                        this._renderer.setStyle(resizer_el, 'top', `${event.pageY}px`);\n                        break;\n                    case 'right':\n                        this._renderer.setStyle(resizer_el, 'left', `${event.pageX + this.resizer_width}px`);\n                        break;\n                    case 'bottom':\n                        // TODO: Fix bottom resizer\n                        this._renderer.setStyle(resizer_el, 'top', `${event.pageY}px`);\n                        break;\n                    case 'left':\n                        this._renderer.setStyle(resizer_el, 'left', `${event.pageX - (this.resizer_width / 2)}px`);\n                        break;\n                }\n\n                this._resizeService.emitter.emit({\n                    zone: this.role,\n                    resize: ['top', 'bottom'].includes(resize) ? 'v' : 'h',\n                    handle: resize,\n                    handle_width: this.resizer_width,\n                    event,\n                    element_position: this._el.nativeElement.getBoundingClientRect(),\n                    resizer_position: resizer_el.getBoundingClientRect(),\n                } as ResizeEvent);\n            });\n            const win_dragstart_fn = this._renderer.listen(window, 'dragstart', (event: MouseEvent) => {\n                event.preventDefault();\n                event.stopPropagation();\n                return false;\n            });\n            const win_mouseup_fn = this._renderer.listen(window, 'mouseup', (event: MouseEvent) => {\n                this._renderer.setStyle(document.querySelector('body'), 'user-select', 'unset');\n                win_mousemove_fn();\n                win_dragstart_fn();\n                win_mouseup_fn();\n            });\n        });\n    }\n\n}\n","import { Component, OnInit, Input, ElementRef, Renderer2, OnChanges, SimpleChanges } from '@angular/core';\nimport { ResizerEventsService, ResizeEvent } from '../../tools/resizer-events.service';\n\n@Component({\n    selector: 'fnd-workspace-wrapper',\n    template: '<ng-content></ng-content>',\n    styleUrls: ['./workspace-wrapper.component.scss']\n})\nexport class WorkspaceWrapperComponent implements OnInit, OnChanges {\n\n    @Input() rows: Array<string> = [];\n    @Input() columns: Array<string> = [];\n    @Input() areas: Array<Array<string>> = [];\n    @Input() padding: string = '';\n    @Input() theme: string = 'light';\n    @Input() restore_state: boolean = true;\n\n    private _rows_initial: Array<string> = [];\n    private _cols_initial: Array<string> = [];\n\n\n    constructor(\n        private _el: ElementRef,\n        private _renderer: Renderer2,\n        private _resizeService: ResizerEventsService,\n    ) {\n        this._resizeService.emitter.subscribe((e: ResizeEvent) => {\n            if (e.resize === 'h') {\n                let idx = -1;\n                this.areas.forEach(area_row => {\n                    if (idx === -1) {\n                        idx = area_row.findIndex(area => area === e.zone);\n                    }\n                });\n                if (e.handle === 'right') {\n                    this.columns[idx] = `${e.event.pageX - e.element_position.left + e.handle_width}px`;\n                } else if (e.handle === 'left') {\n                    this.columns[idx] = `${window.innerWidth - e.event.pageX + (e.handle_width / 2)}px`;\n                }\n                this._setAreasStyle();\n            } else if (e.resize === 'v') {\n                let idx = -1;\n                this.areas.forEach((area_row, i) => {\n                    if (area_row.includes(e.zone)) {\n                        idx = i;\n                    }\n                });\n\n                if (e.handle === 'top') {\n                    this.rows[idx] = `${e.element_position.bottom - e.event.pageY}px`;\n                } else if (e.handle === 'bottom') {\n                    console.log(`e.resizer_position.top: ${e.resizer_position.top}: e.element_position.bottom: ${e.element_position.bottom}`);\n\n                    this.rows[idx] = `${(e.resizer_position.top - e.element_position.top) + (e.handle_width / 2)}px`;\n                }\n                this._setAreasStyle();\n            }\n        });\n    }\n\n    ngOnInit() {\n        if (this.restore_state) {\n            this._rows_initial = this.rows;\n            this._cols_initial = this.columns;\n            if (localStorage.getItem('wrapper:rows')) {\n                this.rows = JSON.parse(localStorage.getItem('wrapper:rows'));\n            }\n            if (localStorage.getItem('wrapper:columns')) {\n                this.columns = JSON.parse(localStorage.getItem('wrapper:columns'));\n            }\n        }\n        this._setAreasStyle();\n        this._renderer.setAttribute(document.querySelector('body'), 'colorTheme', this.theme);\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this._renderer.setAttribute(document.querySelector('body'), 'colorTheme', this.theme);\n        if (this.restore_state) {\n            this._rows_initial = this.rows;\n            this._cols_initial = this.columns;\n            if (localStorage.getItem('wrapper:rows')) {\n                this.rows = JSON.parse(localStorage.getItem('wrapper:rows'));\n            }\n            if (localStorage.getItem('wrapper:columns')) {\n                this.columns = JSON.parse(localStorage.getItem('wrapper:columns'));\n            }\n        }\n        this._setAreasStyle();\n    }\n\n    private _setAreasStyle() {\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-rows', this.rows.join(' '));\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-columns', this.columns.join(' '));\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-areas', this.areas.map(x => `\"${x.join(' ')}\"`).join(' '));\n\n        if (this.restore_state) {\n            localStorage.setItem('wrapper:rows', JSON.stringify(this.rows));\n            localStorage.setItem('wrapper:columns', JSON.stringify(this.columns));\n        }\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { WorkspaceZoneComponent } from './components/workspace-zone/workspace-zone.component';\nimport { WorkspaceWrapperComponent } from './components/workspace-wrapper/workspace-wrapper.component';\n\n\n@NgModule({\n    declarations: [\n        WorkspaceZoneComponent,\n        WorkspaceWrapperComponent,\n    ],\n    imports: [\n    ],\n    exports: [\n        WorkspaceZoneComponent,\n        WorkspaceWrapperComponent,\n    ]\n})\nexport class FoundrySdkModule { }\n","export class NavigationElement {\n    title?: string;\n    icon?: string;\n    action?: any;\n    role?: 'divider';\n    children?: NavigationElement[];\n\n    constructor(data?) {\n        if (data) {\n            if (data.hasOwnProperty('title')) { this.title = data.title; }\n            if (data.hasOwnProperty('icon')) { this.icon = data.icon; }\n            if (data.hasOwnProperty('action')) { this.action = data.action; }\n            if (data.hasOwnProperty('role')) { this.role = data.role; }\n            if (data.hasOwnProperty('children')) { this.children = data.children.map(x => new NavigationElement(x)); }\n        }\n    }\n}\n"],"names":[],"mappings":"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"}