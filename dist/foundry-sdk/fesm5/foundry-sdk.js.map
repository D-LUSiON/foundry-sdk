{"version":3,"file":"foundry-sdk.js","sources":["ng://foundry-sdk/lib/tools/resizer-events.service.ts","ng://foundry-sdk/lib/components/workspace-zone/workspace-zone.component.ts","ng://foundry-sdk/lib/components/workspace-wrapper/workspace-wrapper.component.ts","ng://foundry-sdk/lib/foundry-sdk.module.ts","ng://foundry-sdk/lib/models/navigation-element.ts"],"sourcesContent":["import { Injectable, EventEmitter } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ResizerEventsService {\n\n    emitter: EventEmitter<{\n        zone: string,\n        resize: 'h' | 'v',\n        handle: 'top' | 'right' | 'bottom' | 'left',\n        handle_width: number,\n        event: MouseEvent,\n        element_position: DOMRect,\n        resizer_width: number,\n    }> = new EventEmitter();\n\n    constructor() { }\n}\n","import {\n    Component,\n    OnInit,\n    ElementRef,\n    Renderer2,\n    Input,\n    HostBinding,\n    AfterViewInit,\n    HostListener,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { ResizerEventsService } from '../../tools/resizer-events.service';\n\n@Component({\n  selector: 'fnd-workspace-zone',\n  template: '<ng-content></ng-content>',\n  styleUrls: ['./workspace-zone.component.scss']\n})\nexport class WorkspaceZoneComponent implements OnInit, OnChanges, AfterViewInit {\n\n    @Input() role: string;\n    @Input() border: string;\n    @Input() resize_zone: string;\n    @Input() theme: string = '';\n    @Input() overflow_x: 'visible' | 'auto' | 'none' | 'scroll' | 'initial' | 'clip' | 'overlay' = 'clip';\n    @Input() overflow_y: 'visible' | 'auto' | 'none' | 'scroll' | 'initial' | 'clip' | 'overlay' = 'clip';\n    @Input() min_height: string = '0';\n    @Input() max_height: string = 'auto';\n    @Input() direction: 'row' | 'column' = 'column';\n    @Input() resizers: Array<'top' | 'right' | 'bottom' | 'left'> = [];\n    @Input() resizer_width: number = 6;\n\n    @HostBinding('style.min-height') host_min_height = this.min_height;\n    @HostBinding('style.max-height') host_max_height = this.max_height;\n    @HostBinding('style.overflow-x') host_overfow_x = this.overflow_x;\n    @HostBinding('style.overflow-y') host_overfow_y = this.overflow_y;\n    @HostBinding('style.flex-direction') host_flex_direction = this.direction;\n    @HostBinding('attr.colorTheme') host_color_theme = this.theme;\n\n\n    private _resizer_element: HTMLDivElement;\n\n    all_resizers: { [key: string]: HTMLDivElement } = {};\n\n    @HostListener('mouseenter', ['$event']) onMouseEnter(e: MouseEvent) {\n        Object.keys(this.all_resizers).forEach(resizer => {\n            this._renderer.removeClass(this.all_resizers[resizer], 'resizer-handle-hidden');\n            this._renderer.addClass(this.all_resizers[resizer], 'resizer-handle-visible');\n        });\n    }\n\n    @HostListener('mouseleave', ['$event']) onMouseLeave(e: MouseEvent) {\n        if (!e.relatedTarget || (e.relatedTarget as HTMLDivElement).getAttribute('zone') !== this.role) {\n            Object.keys(this.all_resizers).forEach(resizer => {\n                this._renderer.removeClass(this.all_resizers[resizer], 'resizer-handle-visible');\n                this._renderer.addClass(this.all_resizers[resizer], 'resizer-handle-hidden');\n            });\n        }\n    }\n\n    constructor(\n        private _el: ElementRef,\n        private _renderer: Renderer2,\n        private _resizeService: ResizerEventsService,\n    ) {\n        this._resizeService.emitter.subscribe((e: { zone: string, event: MouseEvent }) => {\n            if (e.zone !== this.role) {\n                this.resizers.forEach(resizer => {\n                    this._updateResizerPosition(this.all_resizers[resizer]);\n                });\n            }\n        });\n    }\n\n    ngOnInit() {\n        this._renderer.setStyle(this._el.nativeElement, 'grid-area', this.role);\n        if (this.border) {\n            this._renderer.setStyle(this._el.nativeElement, `border-${this.border}-width`, '1px');\n        }\n\n        this.resizers.forEach(resizer => {\n            if (!this.all_resizers[resizer]) {\n                const resizer_el: HTMLDivElement = this._renderer.createElement('div');\n                this._renderer.setAttribute(resizer_el, 'zone', this.role);\n                this._renderer.setAttribute(resizer_el, 'role', resizer);\n                this._renderer.addClass(resizer_el, 'resizer-handle');\n                this._renderer.addClass(resizer_el, 'resizer-handle-hidden');\n\n                switch (resizer) {\n                    case 'top':\n                    case 'bottom':\n                        this._renderer.setStyle(resizer_el, 'cursor', 'n-resize');\n                        break;\n                    case 'right':\n                    case 'left':\n                        this._renderer.setStyle(resizer_el, 'cursor', 'e-resize');\n                        break;\n                    default:\n                        break;\n                }\n\n                this._updateResizerPosition(resizer_el);\n\n                this._addMouseDragListeners(resizer_el, resizer);\n                this._renderer.appendChild(document.querySelector('body'), resizer_el);\n                this.all_resizers[resizer] = resizer_el;\n            } else {\n                console.error(`You've defined more than one \"${resizer}\" resizers!`);\n            }\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.host_color_theme = this.theme;\n        this.host_min_height = this.min_height;\n        this.host_max_height = this.max_height;\n        this.host_overfow_x = this.overflow_x;\n        this.host_overfow_y = this.overflow_y;\n        this.host_flex_direction = this.direction;\n    }\n\n    ngAfterViewInit(): void {\n        this.host_color_theme = this.theme;\n        this.host_min_height = this.min_height;\n        this.host_max_height = this.max_height;\n        this.host_overfow_x = this.overflow_x;\n        this.host_overfow_y = this.overflow_y;\n        this.host_flex_direction = this.direction;\n    }\n\n    private _updateResizerPosition(resizer_el: HTMLDivElement): void {\n        const position_info: DOMRect = this._el.nativeElement.getBoundingClientRect();\n        const resizer = resizer_el.getAttribute('role');\n\n        switch (resizer) {\n            case 'top':\n                this._renderer.setStyle(resizer_el, 'width', `${position_info.width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.y - (this.resizer_width / 2)}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.x}px`);\n                break;\n            case 'right':\n                this._renderer.setStyle(resizer_el, 'width', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${position_info.height}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.top}px`);\n                this._renderer.setStyle(\n                    resizer_el,\n                    'left',\n                    `${position_info.width + position_info.left - this.resizer_width + (this.resizer_width / 2)}px`\n                );\n                break;\n            case 'bottom':\n                // TODO: Fix resizer\n                this._renderer.setStyle(resizer_el, 'width', `${position_info.width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.bottom - this.resizer_width + (this.resizer_width / 2)}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.x}px`);\n                break;\n            case 'left':\n                this._renderer.setStyle(resizer_el, 'width', `${this.resizer_width}px`);\n                this._renderer.setStyle(resizer_el, 'height', `${position_info.height}px`);\n                this._renderer.setStyle(resizer_el, 'top', `${position_info.top}px`);\n                this._renderer.setStyle(resizer_el, 'left', `${position_info.left - (this.resizer_width / 2)}px`);\n                break;\n            default:\n                break;\n        }\n    }\n\n    private _addMouseDragListeners(resizer_el: HTMLDivElement, resize: 'top' | 'right' | 'bottom' | 'left'): void {\n        this._renderer.listen(resizer_el, 'mouseenter', (e: MouseEvent) => {\n            this._renderer.removeClass(resizer_el, 'resizer-handle-hidden');\n            this._renderer.addClass(resizer_el, 'resizer-handle-visible');\n        });\n\n        this._renderer.listen(resizer_el, 'mouseleave', (e: MouseEvent) => {\n            if (!e.relatedTarget || (e.relatedTarget as HTMLElement).getAttribute('role') !== this.role) {\n                this._renderer.removeClass(resizer_el, 'resizer-handle-visible');\n                this._renderer.addClass(resizer_el, 'resizer-handle-hidden');\n            }\n        });\n\n        this._renderer.listen(resizer_el, 'mousedown', (e: MouseEvent) => {\n            this._renderer.setStyle(document.querySelector('body'), 'user-select', 'none');\n            const win_mousemove_fn = this._renderer.listen(window, 'mousemove', (event: MouseEvent) => {\n                if (['top', 'bottom'].includes(resize)) {\n                    this._renderer.setStyle(resizer_el, 'top', `${event.pageY}px`);\n                } else {\n                    this._renderer.setStyle(resizer_el, 'left', `${event.pageX}px`);\n                }\n                this._resizeService.emitter.emit({\n                    zone: this.role,\n                    resize: ['top', 'bottom'].includes(resize) ? 'v' : 'h',\n                    handle: resize,\n                    handle_width: this.resizer_width,\n                    event,\n                    element_position: this._el.nativeElement.getBoundingClientRect(),\n                    resizer_width: this.resizer_width,\n                });\n            });\n            const win_dragstart_fn = this._renderer.listen(window, 'dragstart', (event: MouseEvent) => {\n                event.preventDefault();\n                event.stopPropagation();\n                return false;\n            });\n            const win_mouseup_fn = this._renderer.listen(window, 'mouseup', (event: MouseEvent) => {\n                this._renderer.setStyle(document.querySelector('body'), 'user-select', 'unset');\n                win_mousemove_fn();\n                win_dragstart_fn();\n                win_mouseup_fn();\n            });\n        });\n    }\n\n}\n","import { Component, OnInit, Input, ElementRef, Renderer2, HostBinding, OnChanges, SimpleChanges } from '@angular/core';\nimport { ResizerEventsService } from '../../tools/resizer-events.service';\n\n@Component({\n    selector: 'fnd-workspace-wrapper',\n    template: '<ng-content></ng-content>',\n    styleUrls: ['./workspace-wrapper.component.scss']\n})\nexport class WorkspaceWrapperComponent implements OnInit, OnChanges {\n\n    @Input() rows: Array<string> = [];\n    @Input() columns: Array<string> = [];\n    @Input() areas: Array<Array<string>> = [];\n    @Input() padding: string = '';\n    @Input() theme: string = 'light';\n    @Input() restore_state: boolean = true;\n\n    private _rows_initial: Array<string> = [];\n    private _cols_initial: Array<string> = [];\n\n    @HostBinding('class') host_theme_class = `workspace-theme-${this.theme}`;\n\n    constructor(\n        private _el: ElementRef,\n        private _renderer: Renderer2,\n        private _resizeService: ResizerEventsService,\n    ) {\n        this._resizeService.emitter.subscribe((e: {\n            zone: string,\n            resize: 'h' | 'v',\n            handle: 'top' | 'right' | 'bottom' | 'left',\n            handle_width: number,\n            event: MouseEvent,\n            element_position: DOMRect,\n        }) => {\n            if (e.resize === 'h') {\n                let idx = -1;\n                this.areas.forEach(area_row => {\n                    if (idx === -1) {\n                        idx = area_row.findIndex(area => area === e.zone);\n                    }\n                });\n                if (e.handle === 'right') {\n                    this.columns[idx] = `${e.event.pageX - e.element_position.left + e.handle_width}px`;\n                } else if (e.handle === 'left') {\n                    this.columns[idx] = `${window.outerWidth - e.event.pageX}px`;\n                }\n                this._setAreasStyle();\n            } else if (e.resize === 'v') {\n                let idx = -1;\n                this.areas.forEach((area_row, i) => {\n                    if (area_row.includes(e.zone)) {\n                        idx = i;\n                    }\n                });\n\n                if (e.handle === 'top') {\n                    this.rows[idx] = `${e.element_position.bottom - e.event.pageY}px`;\n                } else if (e.handle === 'bottom') {\n                    this.rows[idx] = `${e.event.pageY + e.handle_width}px`;\n                }\n                this._setAreasStyle();\n            }\n        });\n    }\n\n    ngOnInit() {\n        if (this.restore_state) {\n            this._rows_initial = this.rows;\n            this._cols_initial = this.columns;\n            if (localStorage.getItem('wrapper:rows')) {\n                this.rows = JSON.parse(localStorage.getItem('wrapper:rows'));\n            }\n            if (localStorage.getItem('wrapper:columns')) {\n                this.columns = JSON.parse(localStorage.getItem('wrapper:columns'));\n            }\n        }\n        this._setAreasStyle();\n        this._renderer.addClass(document.querySelector('body'), `workspace-theme-${this.theme}`);\n        this._renderer.setAttribute(document.querySelector('body'), 'colorTheme', this.theme);\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.host_theme_class = `workspace-theme-${this.theme}`;\n        this._renderer.addClass(document.querySelector('body'), `workspace-theme-${this.theme}`);\n        this._renderer.setAttribute(document.querySelector('body'), 'colorTheme', this.theme);\n        if (this.restore_state) {\n            this._rows_initial = this.rows;\n            this._cols_initial = this.columns;\n            if (localStorage.getItem('wrapper:rows')) {\n                this.rows = JSON.parse(localStorage.getItem('wrapper:rows'));\n            }\n            if (localStorage.getItem('wrapper:columns')) {\n                this.columns = JSON.parse(localStorage.getItem('wrapper:columns'));\n            }\n        }\n        this._setAreasStyle();\n    }\n\n    private _setAreasStyle() {\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-rows', this.rows.join(' '));\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-columns', this.columns.join(' '));\n        this._renderer.setStyle(this._el.nativeElement, 'grid-template-areas', this.areas.map(x => `\"${x.join(' ')}\"`).join(' '));\n\n        if (this.restore_state) {\n            localStorage.setItem('wrapper:rows', JSON.stringify(this.rows));\n            localStorage.setItem('wrapper:columns', JSON.stringify(this.columns));\n        }\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { WorkspaceZoneComponent } from './components/workspace-zone/workspace-zone.component';\nimport { WorkspaceWrapperComponent } from './components/workspace-wrapper/workspace-wrapper.component';\n\n\n@NgModule({\n    declarations: [\n        WorkspaceZoneComponent,\n        WorkspaceWrapperComponent,\n    ],\n    imports: [\n    ],\n    exports: [\n        WorkspaceZoneComponent,\n        WorkspaceWrapperComponent,\n    ]\n})\nexport class FoundrySdkModule { }\n","export class NavigationElement {\n    title?: string;\n    icon?: string;\n    action?: any;\n    role?: 'divider';\n    children?: NavigationElement[];\n\n    constructor(data?) {\n        if (data) {\n            if (data.hasOwnProperty('title')) { this.title = data.title; }\n            if (data.hasOwnProperty('icon')) { this.icon = data.icon; }\n            if (data.hasOwnProperty('action')) { this.action = data.action; }\n            if (data.hasOwnProperty('role')) { this.role = data.role; }\n            if (data.hasOwnProperty('children')) { this.children = data.children.map(x => new NavigationElement(x)); }\n        }\n    }\n}\n"],"names":[],"mappings":"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"}